/* =========================
   RouteMap.css (sliding door from dock edge)
   ========================= */
:root{
  --dock-w:80px;          /* 왼쪽 사이드바 실제 너비 */
  --panel-w:300px;        /* 열렸을 때 패널 너비 */

  /* 슬라이드 속도/이징 (느리게 보이도록 여유 있게) */
  --slide-dur:.28s;
  --slide-ease:cubic-bezier(.22,.61,.36,1);
  --fade-dur:.12s;          /* 글자 페이드 속도 */

  --panel-bg:#fafafa;
  --panel-border:#e6e6e6;
  --text:#222;
  /* --text-muted:#6b7280; */
  --text-muted:black;
  --accent:#2b8af7;
  --accent-600:#1e72d4;
}

/* 지도는 화면 가득, 패널이 위에 덮임 */
#map{ width:100%; height:100%; display:block; }

/* (지금 쓰는 것 유지) 컨테이너는 width 슬라이드 + opacity/visibility 지연 */
.filter-flyout{
  position:fixed; top:0; left:var(--dock-w); height:100vh;
  width:0; overflow:hidden; pointer-events:none; z-index:50;
  opacity:0; visibility:hidden;
  transition:
    width var(--slide-dur) var(--slide-ease),
    opacity 0s linear var(--slide-dur),
    visibility 0s linear var(--slide-dur);
  will-change: width, opacity;
}
/* 열림: 목표 폭까지 확장 */
.filter-flyout.open{
  width:var(--panel-w); pointer-events:auto;
  opacity:1; visibility:visible;
  transition:
    width var(--slide-dur) var(--slide-ease),
    opacity var(--fade-dur) var(--slide-ease) 0s,
    visibility 0s linear 0s;
}

/* ===== 패널 본체 (미닫이문처럼: 풀높이, 라운드/그림자 없음) ===== */
.sidebar-card{
  width:100%;
  height:100vh;                 /* 도크처럼 전고 */
  margin:0;                     /* 위/아래 틈 제거 */
  padding:12px;
  background:var(--panel-bg);
  color:var(--text);
  box-sizing:border-box;

  /* 슬라이딩 ‘문’처럼 보이게: 직각/플랫 */
  border-radius:0;
  box-shadow:none;
  border-right:1px solid var(--panel-border);

  display:flex;
  flex-direction:column;
  gap:12px;
  overflow-y:auto;
  overflow-x:hidden;
}
.sidebar-card > * { min-width:0; }

/* ▶️ 콘텐츠 페이드: 닫힘 상태에선 자식들을 빠르게 투명화 */
.filter-flyout .sidebar-card > *{
  opacity:0;
  transform: translateX(6px);
  transition:
    opacity var(--fade-dur) var(--slide-ease),
    transform var(--fade-dur) var(--slide-ease);
  will-change: opacity, transform;
}
/* 열릴 때만 살짝 페이드인 */
.filter-flyout.open .sidebar-card > *{
  opacity:1;
  transform:none;
}

/* ── 텍스트/폼 ── */
.sidebar-title{ margin:0 0 6px; font-size:16px; font-weight:700; color:var(--text); }
.form-group{ display:flex; flex-direction:column; gap:6px; margin:0 0 10px; }
.form-label{ font-size:13px; font-weight:600; color:var(--text-muted); }
.help-text,.small-note{ font-size:11px; color:var(--text-muted); }

/* 라벨+컨트롤 */
.label-row{ display:flex; align-items:center; gap:8px; margin:6px 0 10px; }
.label-row__label{ width:86px; font-size:13px; color:var(--text-muted); font-weight:600; }
.label-row__control{ flex:1; min-width:0; }

/* 입력/선택 */
.input,.select{
  width:100%; min-width:0; padding:8px 10px; font-size:13px;
  border:1px solid #e5e7eb; border-radius:10px; background:#fff;
  transition:border-color .2s, box-shadow .2s, background .2s;
}
.input:focus,.select:focus{ outline:none; border-color:var(--accent); box-shadow:0 0 0 3px rgba(43,138,247,.15); }

/* 버튼 */
.btnrow{
  flex: 1;
  border-radius: 10px;
  border:1px solid #e5e7eb; background:#fff; cursor:pointer;
  transition:transform .04s, box-shadow .2s, background .2s, border-color .2s;
}
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:8px 10px; font-size:12px; font-weight:700; border-radius:10px;
  border:1px solid #e5e7eb; background:#fff; cursor:pointer;
  transition:transform .04s, box-shadow .2s, background .2s, border-color .2s;
}
.btn:active{ transform:translateY(1px); }
.btn:disabled{ opacity:.55; cursor:not-allowed; }
.btn-primary{ background:var(--accent); color:#fff; border-color:var(--accent); }
.btn-primary:hover{ background:var(--accent-600); border-color:var(--accent-600); }
.btn-ghost{ background:#fff; }
.btn-ghost:hover{ background:#f3f4f6; }
.btn-toggle{ background:#fff; }
.btn-toggle.on{ background:#e8f5e9; border-color:#cde9d5; }

/* 버튼 묶음 */
.btn-row{ display:grid; grid-template-columns:1fr 1fr; gap:8px; margin:6px 0 10px; }
.btn-row.compact{ display: flex; }

/* 칩 */
.btn-choice{ background:#fff; }
.btn-choice.on{ background:#eef5ff; border-color:#cfe0ff; box-shadow:0 0 0 3px rgba(43,138,247,.12); }

/* 스크롤바 */
.sidebar-card::-webkit-scrollbar{ width:10px; height:10px; }
.sidebar-card::-webkit-scrollbar-thumb{
  background:#e1e4e8; border-radius:8px; border:2px solid transparent; background-clip:padding-box;
}

/* 높이 작을 때 */
@media (max-height: 860px){
  .sidebar-card{ padding:10px; gap:10px; }
  .form-group{ margin:0 0 8px; }
  .label-row{ margin:6px 0 8px; }
  .input,.select,.btn{ padding:7px 9px; font-size:12px; }
  .label-row__label{ width:82px; }
}

/* 같은 폭 강제: 블록화 + 박스사이징 통일 */
.sidebar-card .form-group .input,
.sidebar-card .form-group .select,
.sidebar-card .label-row__control > .input,
.sidebar-card .label-row__control > .select{
  display:block;
  width:100%;
  box-sizing:border-box;
}

/* 스크롤바가 생겨도 내용 가로폭이 흔들리지 않도록(지원 브라우저에서) */
.sidebar-card{
  scrollbar-gutter: stable;
}

/* 상단 헤더(제목 + 닫기) */
.sidebar-header{
  position: sticky;    /* 스크롤해도 항상 위에 고정 */
  top: 0;
  z-index: 2;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-bottom: 6px;
  background: var(--panel-bg);
  border-bottom: 1px solid var(--panel-border);
}

/* 아이콘형 버튼 (X) */
.icon-btn{
  width: 28px;
  height: 28px;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  background: #fff;
  font-size: 18px;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background .2s, border-color .2s, transform .04s;
}
.icon-btn:hover{ background:#f3f4f6; border-color:#d1d5db; }
.icon-btn:active{ transform: translateY(1px); }
.close-btn{ font-weight: 700; }


 .map-summary{
  position:absolute;
  top:18px; right:18px;
  z-index:1200;
  pointer-events:none;
  /* 데스크탑 폭: 360~560px 범위에서 화면에 맞춰 유연하게 */
  max-width: clamp(360px, 38vw, 560px);
}

.map-summary__card{
  /* 가독성 강화 */
  font-size:16px;
  line-height:1.6;
  font-weight:600;

  /* 여백/모서리/그림자 */
  padding:14px 16px;
  border-radius:14px;
  background:rgba(255,255,255,.92);
  border:1px solid rgba(0,0,0,.08);
  box-shadow:0 12px 32px rgba(0,0,0,.18);

  /* 유리느낌(지원 브라우저에서) */
  -webkit-backdrop-filter: saturate(140%) blur(8px);
  backdrop-filter: saturate(140%) blur(8px);

  display:grid;
  gap:8px;

  /* 등장 애니메이션 */
  animation: mapSummaryIn .18s ease-out;
}

.map-summary__row{
  /* 행끼리 더 여유 */
  margin:0;
  padding:2px 0;
  word-break:keep-all;
}

/***************통일 모달*************/
.info-window { font-size:13px; line-height:1.5; max-width:280px; }
.info-header { display:flex; align-items:center; gap:8px; margin-bottom:4px; }
.info-title { font-weight:700; font-size:14px; }
.info-badge { background:#f5f5f5; border:1px solid #ddd; border-radius:6px; padding:2px 6px; font-size:12px; }
.info-row { margin:4px 0; }
.price-box { margin-top:6px; border:1px solid #eee; border-radius:8px; padding:6px; }
.price-row { display:flex; justify-content:space-between; padding:2px 0; }
.price-error { margin-top:6px; color:#c0392b; }
.info-flags { margin-top:8px; display:flex; flex-wrap:wrap; gap:6px; }
.flag { font-size:12px; padding:2px 8px; border-radius:999px; background:#bdc3c7; color:#fff; }
.flag.on { background:#27ae60; }


/* 인포윈도우 툴팁 */
.info-window { position: relative; overflow: visible; }

.info-window .tt {
  position: relative;
  cursor: help;
}

/* 말풍선 본체 */
.info-window .tt::after {
  content: attr(data-tip);
  position: absolute;
  left: 50%;
  bottom: 100%;
  transform: translate(-50%, -8px);
  display: none;
  background: rgba(17,17,17,.92);
  color: #fff;
  padding: 6px 10px;
  border-radius: 8px;
  font-size: 12px;
  line-height: 1.35;
  max-width: 280px;
  white-space: normal;
  word-break: keep-all;
  box-shadow: 0 6px 16px rgba(0,0,0,.2);
  z-index: 1000;
}

/* 말풍선 화살표 */
.info-window .tt::before {
  content: "";
  position: absolute;
  left: 50%;
  bottom: calc(100% - 2px);
  transform: translateX(-50%);
  border: 6px solid transparent;
  border-top-color: rgba(17,17,17,.92);
  display: none;
  z-index: 1001;
}

.info-window .tt:hover::after,
.info-window .tt:hover::before {
  display: block;
}


/* === Zoom Bar === */
/* .zoom-bar{
  position:absolute;
  right:12px; bottom:90px;
  z-index: 1000;
  display:flex; flex-direction:column; align-items:center; gap:8px;
  padding:10px 8px;
  width:44px;
  background:#fff; border:1px solid #ddd; border-radius:12px;
  box-shadow:0 6px 18px rgba(0,0,0,.12);
  user-select:none;
}
.zoom-bar > div[role="button"],
.zoom-bar > div:first-child,
.zoom-bar > div:nth-child(3){
  cursor:pointer; font-size:20px; line-height:1;
}
.zoom-track{
  position:relative; width:6px; height:140px;
  background:#f3f3f3; border-radius:999px; overflow:hidden;
}
.zoom-fill{
  position:absolute; left:0; right:0; bottom:0; height:0;
  background:#2b8af7; border-radius:999px;
  transition:height .15s ease-out;
}
.zoom-label{
  font-size:12px; color:#555; margin-top:2px;
} */
/************반응형***************/
/* ===== 기존(데스크탑) 유지: 좌측 슬라이드 ===== */
/* (네가 올린 RouteMap.css의 .filter-flyout / .sidebar-card 그대로 둬도 됨) */

/* ================================
   📱 RouteMap – 모바일 정리본 (<=640px)
   - 위치, 크기, 여백, 타이포 한 번에 컨트롤
   - 필요 변수만 expose
   ================================ */
@media (max-width: 768px){
  :root{
    --mobile-gap: 10px;                        /* 화면 상단 여백 */
    --dock-h: 64px;                            /* 하단 탭바 높이 */
    --mobile-panel-w: min(86vw, 268px);        /* 패널 너비 */
    --trim-top: 16px;                          /* '필터' 글자 위치에 맞춰 패널을 더 내리는 값 */
    --panel-top-pad: 6px;                      /* 카드 내부 상단 패딩 */
    --route-filter-maxh: 70vh;                 /* 카드 최대 높이 */
    --route-filter-gap: 8px;                   /* 블록 간 간격 */
    --route-filter-ctrl-pad: 7px;              /* input/select/버튼 상하 패딩 */
  }

  /* 패널 컨테이너: 좌측에서 슬라이드, 시작 위치 맞춤 */
  .filter-flyout{
    left: 6px;
    right: auto;
    top: calc(var(--mobile-gap) + env(safe-area-inset-top,0px) + var(--trim-top));
    bottom: calc(var(--dock-h) + var(--mobile-gap) + env(safe-area-inset-bottom,0px));
    height: auto;
    width: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    opacity: 0; visibility: hidden; pointer-events: none;
    transition:
      width var(--slide-dur) var(--slide-ease),
      opacity 0s linear var(--slide-dur),
      visibility 0s linear var(--slide-dur);
  }
  .filter-flyout.open{
    width: var(--mobile-panel-w);
    opacity: 1; visibility: visible; pointer-events: auto;
  }

  /* 카드 본체: 컴팩트 + 내부 스크롤 */
  .sidebar-card{
    height: auto;
    max-height: var(--route-filter-maxh);
    margin: 0;
    border: 1px solid var(--panel-border);
    border-radius: 12px;
    box-shadow: 0 10px 24px rgba(0,0,0,.15);
    overflow-y: auto;
    overflow-x: hidden;
    padding: var(--panel-top-pad) 12px 8px;    /* 상단 약간, 하단 살짝 */
    gap: var(--route-filter-gap);
  }

  /* 헤더는 고정 해제(카드 안에서 자연스럽게 스크롤) */
  .sidebar-header{
    position: static;
    background: transparent;
    border-bottom: 0;
    padding-bottom: 6px;
  }

  /* 내부 여백/컨트롤 사이즈 정리 */
  .form-group{ margin: 0 0 var(--route-filter-gap); }
  .label-row{ margin: 4px 0 var(--route-filter-gap); }
  .btn-row{ margin: 4px 0 var(--route-filter-gap); }

  .input,
  .select,
  .btn{
    padding: var(--route-filter-ctrl-pad) 10px;
    font-size: 12px;
  }

  /* 모바일에선 딤 제거(카드만 띄움) */
  .filter-dim{ display: none !important; opacity: 0 !important; pointer-events: none !important; }

  /* 지도 오버레이는 기존 값 유지 – 필요 시만 조절 */
  .map-summary{ left: 6px; right: 8px; bottom: calc(var(--dock-h) + 8px); top: auto; }
  .my-location-btn{ right: 16px; bottom: calc(var(--dock-h) + 32px); }
  .fab{ right: 12px; bottom: calc(var(--dock-h) + 16px); }
}


/* 모바일 최적화 */
@media (max-width: 768px){
  .map-summary{
    top:10px; right:10px; left:10px;
    max-width: none;            /* 가로 꽉 차게 */
  }
  .map-summary__card{
    font-size:15px;
    padding:12px 14px;
    border-radius:12px;
    box-shadow:0 10px 28px rgba(0,0,0,.16);
  }
}

@keyframes mapSummaryIn{
  from{ opacity:0; transform:translateY(-6px); }
  to  { opacity:1; transform:none; }
}






