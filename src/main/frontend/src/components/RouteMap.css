/* =========================
   RouteMap.css (sliding door from dock edge)
   ========================= */
:root{
  --dock-w:80px;          /* ì™¼ìª½ ì‚¬ì´ë“œë°” ì‹¤ì œ ë„ˆë¹„ */
  --panel-w:300px;        /* ì—´ë ¸ì„ ë•Œ íŒ¨ë„ ë„ˆë¹„ */

  /* ìŠ¬ë¼ì´ë“œ ì†ë„/ì´ì§• (ëŠë¦¬ê²Œ ë³´ì´ë„ë¡ ì—¬ìœ  ìˆê²Œ) */
  --slide-dur:.28s;
  --slide-ease:cubic-bezier(.22,.61,.36,1);
  --fade-dur:.12s;          /* ê¸€ì í˜ì´ë“œ ì†ë„ */

  --panel-bg:#fafafa;
  --panel-border:#e6e6e6;
  --text:#222;
  /* --text-muted:#6b7280; */
  --text-muted:black;
  --accent:#2b8af7;
  --accent-600:#1e72d4;
}

/* ì§€ë„ëŠ” í™”ë©´ ê°€ë“, íŒ¨ë„ì´ ìœ„ì— ë®ì„ */
#map{ width:100%; height:100%; display:block; }

/* (ì§€ê¸ˆ ì“°ëŠ” ê²ƒ ìœ ì§€) ì»¨í…Œì´ë„ˆëŠ” width ìŠ¬ë¼ì´ë“œ + opacity/visibility ì§€ì—° */
.filter-flyout{
  position:fixed; top:0; left:var(--dock-w); height:100vh;
  width:0; overflow:hidden; pointer-events:none; z-index:50;
  opacity:0; visibility:hidden;
  transition:
    width var(--slide-dur) var(--slide-ease),
    opacity 0s linear var(--slide-dur),
    visibility 0s linear var(--slide-dur);
  will-change: width, opacity;
}
/* ì—´ë¦¼: ëª©í‘œ í­ê¹Œì§€ í™•ì¥ */
.filter-flyout.open{
  width:var(--panel-w); pointer-events:auto;
  opacity:1; visibility:visible;
  transition:
    width var(--slide-dur) var(--slide-ease),
    opacity var(--fade-dur) var(--slide-ease) 0s,
    visibility 0s linear 0s;
}

/* ===== íŒ¨ë„ ë³¸ì²´ (ë¯¸ë‹«ì´ë¬¸ì²˜ëŸ¼: í’€ë†’ì´, ë¼ìš´ë“œ/ê·¸ë¦¼ì ì—†ìŒ) ===== */
.sidebar-card{
  width:100%;
  height:100vh;                 /* ë„í¬ì²˜ëŸ¼ ì „ê³  */
  margin:0;                     /* ìœ„/ì•„ë˜ í‹ˆ ì œê±° */
  padding:12px;
  background:var(--panel-bg);
  color:var(--text);
  box-sizing:border-box;

  /* ìŠ¬ë¼ì´ë”© â€˜ë¬¸â€™ì²˜ëŸ¼ ë³´ì´ê²Œ: ì§ê°/í”Œë« */
  border-radius:0;
  box-shadow:none;
  border-right:1px solid var(--panel-border);

  display:flex;
  flex-direction:column;
  gap:12px;
  overflow-y:auto;
  overflow-x:hidden;
}
.sidebar-card > * { min-width:0; }

/* â–¶ï¸ ì½˜í…ì¸  í˜ì´ë“œ: ë‹«í˜ ìƒíƒœì—ì„  ìì‹ë“¤ì„ ë¹ ë¥´ê²Œ íˆ¬ëª…í™” */
.filter-flyout .sidebar-card > *{
  opacity:0;
  transform: translateX(6px);
  transition:
    opacity var(--fade-dur) var(--slide-ease),
    transform var(--fade-dur) var(--slide-ease);
  will-change: opacity, transform;
}
/* ì—´ë¦´ ë•Œë§Œ ì‚´ì§ í˜ì´ë“œì¸ */
.filter-flyout.open .sidebar-card > *{
  opacity:1;
  transform:none;
}

/* â”€â”€ í…ìŠ¤íŠ¸/í¼ â”€â”€ */
.sidebar-title{ margin:0 0 6px; font-size:16px; font-weight:700; color:var(--text); }
.form-group{ display:flex; flex-direction:column; gap:6px; margin:0 0 10px; }
.form-label{ font-size:13px; font-weight:600; color:var(--text-muted); }
.help-text,.small-note{ font-size:11px; color:var(--text-muted); }

/* ë¼ë²¨+ì»¨íŠ¸ë¡¤ */
.label-row{ display:flex; align-items:center; gap:8px; margin:6px 0 10px; }
.label-row__label{ width:86px; font-size:13px; color:var(--text-muted); font-weight:600; }
.label-row__control{ flex:1; min-width:0; }

/* ì…ë ¥/ì„ íƒ */
.input,.select{
  width:100%; min-width:0; padding:8px 10px; font-size:13px;
  border:1px solid #e5e7eb; border-radius:10px; background:#fff;
  transition:border-color .2s, box-shadow .2s, background .2s;
}
.input:focus,.select:focus{ outline:none; border-color:var(--accent); box-shadow:0 0 0 3px rgba(43,138,247,.15); }

/* ë²„íŠ¼ */
.btnrow{
  flex: 1;
  border-radius: 10px;
  border:1px solid #e5e7eb; background:#fff; cursor:pointer;
  transition:transform .04s, box-shadow .2s, background .2s, border-color .2s;
}
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:8px 10px; font-size:12px; font-weight:700; border-radius:10px;
  border:1px solid #e5e7eb; background:#fff; cursor:pointer;
  transition:transform .04s, box-shadow .2s, background .2s, border-color .2s;
}
.btn:active{ transform:translateY(1px); }
.btn:disabled{ opacity:.55; cursor:not-allowed; }
.btn-primary{ background:var(--accent); color:#fff; border-color:var(--accent); }
.btn-primary:hover{ background:var(--accent-600); border-color:var(--accent-600); }
.btn-ghost{ background:#fff; }
.btn-ghost:hover{ background:#f3f4f6; }
.btn-toggle{ background:#fff; }
.btn-toggle.on{ background:#e8f5e9; border-color:#cde9d5; }

/* ë²„íŠ¼ ë¬¶ìŒ */
.btn-row{ display:grid; grid-template-columns:1fr 1fr; gap:8px; margin:6px 0 10px; }
.btn-row.compact{ display: flex; }

/* ì¹© */
.btn-choice{ background:#fff; }
.btn-choice.on{ background:#eef5ff; border-color:#cfe0ff; box-shadow:0 0 0 3px rgba(43,138,247,.12); }

/* ìŠ¤í¬ë¡¤ë°” */
.sidebar-card::-webkit-scrollbar{ width:10px; height:10px; }
.sidebar-card::-webkit-scrollbar-thumb{
  background:#e1e4e8; border-radius:8px; border:2px solid transparent; background-clip:padding-box;
}

/* ë†’ì´ ì‘ì„ ë•Œ */
@media (max-height: 860px){
  .sidebar-card{ padding:10px; gap:10px; }
  .form-group{ margin:0 0 8px; }
  .label-row{ margin:6px 0 8px; }
  .input,.select,.btn{ padding:7px 9px; font-size:12px; }
  .label-row__label{ width:82px; }
}

/* ê°™ì€ í­ ê°•ì œ: ë¸”ë¡í™” + ë°•ìŠ¤ì‚¬ì´ì§• í†µì¼ */
.sidebar-card .form-group .input,
.sidebar-card .form-group .select,
.sidebar-card .label-row__control > .input,
.sidebar-card .label-row__control > .select{
  display:block;
  width:100%;
  box-sizing:border-box;
}

/* ìŠ¤í¬ë¡¤ë°”ê°€ ìƒê²¨ë„ ë‚´ìš© ê°€ë¡œí­ì´ í”ë“¤ë¦¬ì§€ ì•Šë„ë¡(ì§€ì› ë¸Œë¼ìš°ì €ì—ì„œ) */
.sidebar-card{
  scrollbar-gutter: stable;
}

/* ìƒë‹¨ í—¤ë”(ì œëª© + ë‹«ê¸°) */
.sidebar-header{
  position: sticky;    /* ìŠ¤í¬ë¡¤í•´ë„ í•­ìƒ ìœ„ì— ê³ ì • */
  top: 0;
  z-index: 2;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-bottom: 6px;
  background: var(--panel-bg);
  border-bottom: 1px solid var(--panel-border);
}

/* ì•„ì´ì½˜í˜• ë²„íŠ¼ (X) */
.icon-btn{
  width: 28px;
  height: 28px;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  background: #fff;
  font-size: 18px;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background .2s, border-color .2s, transform .04s;
}
.icon-btn:hover{ background:#f3f4f6; border-color:#d1d5db; }
.icon-btn:active{ transform: translateY(1px); }
.close-btn{ font-weight: 700; }


 .map-summary{
  position:absolute;
  top:18px; right:18px;
  z-index:1200;
  pointer-events:none;
  /* ë°ìŠ¤í¬íƒ‘ í­: 360~560px ë²”ìœ„ì—ì„œ í™”ë©´ì— ë§ì¶° ìœ ì—°í•˜ê²Œ */
  max-width: clamp(360px, 38vw, 560px);
}

.map-summary__card{
  /* ê°€ë…ì„± ê°•í™” */
  font-size:16px;
  line-height:1.6;
  font-weight:600;

  /* ì—¬ë°±/ëª¨ì„œë¦¬/ê·¸ë¦¼ì */
  padding:14px 16px;
  border-radius:14px;
  background:rgba(255,255,255,.92);
  border:1px solid rgba(0,0,0,.08);
  box-shadow:0 12px 32px rgba(0,0,0,.18);

  /* ìœ ë¦¬ëŠë‚Œ(ì§€ì› ë¸Œë¼ìš°ì €ì—ì„œ) */
  -webkit-backdrop-filter: saturate(140%) blur(8px);
  backdrop-filter: saturate(140%) blur(8px);

  display:grid;
  gap:8px;

  /* ë“±ì¥ ì• ë‹ˆë©”ì´ì…˜ */
  animation: mapSummaryIn .18s ease-out;
}

.map-summary__row{
  /* í–‰ë¼ë¦¬ ë” ì—¬ìœ  */
  margin:0;
  padding:2px 0;
  word-break:keep-all;
}

/***************í†µì¼ ëª¨ë‹¬*************/
.info-window { font-size:13px; line-height:1.5; max-width:280px; }
.info-header { display:flex; align-items:center; gap:8px; margin-bottom:4px; }
.info-title { font-weight:700; font-size:14px; }
.info-badge { background:#f5f5f5; border:1px solid #ddd; border-radius:6px; padding:2px 6px; font-size:12px; }
.info-row { margin:4px 0; }
.price-box { margin-top:6px; border:1px solid #eee; border-radius:8px; padding:6px; }
.price-row { display:flex; justify-content:space-between; padding:2px 0; }
.price-error { margin-top:6px; color:#c0392b; }
.info-flags { margin-top:8px; display:flex; flex-wrap:wrap; gap:6px; }
.flag { font-size:12px; padding:2px 8px; border-radius:999px; background:#bdc3c7; color:#fff; }
.flag.on { background:#27ae60; }


/* ì¸í¬ìœˆë„ìš° íˆ´íŒ */
.info-window { position: relative; overflow: visible; }

.info-window .tt {
  position: relative;
  cursor: help;
}

/* ë§í’ì„  ë³¸ì²´ */
.info-window .tt::after {
  content: attr(data-tip);
  position: absolute;
  left: 50%;
  bottom: 100%;
  transform: translate(-50%, -8px);
  display: none;
  background: rgba(17,17,17,.92);
  color: #fff;
  padding: 6px 10px;
  border-radius: 8px;
  font-size: 12px;
  line-height: 1.35;
  max-width: 280px;
  white-space: normal;
  word-break: keep-all;
  box-shadow: 0 6px 16px rgba(0,0,0,.2);
  z-index: 1000;
}

/* ë§í’ì„  í™”ì‚´í‘œ */
.info-window .tt::before {
  content: "";
  position: absolute;
  left: 50%;
  bottom: calc(100% - 2px);
  transform: translateX(-50%);
  border: 6px solid transparent;
  border-top-color: rgba(17,17,17,.92);
  display: none;
  z-index: 1001;
}

.info-window .tt:hover::after,
.info-window .tt:hover::before {
  display: block;
}


/* === Zoom Bar === */
/* .zoom-bar{
  position:absolute;
  right:12px; bottom:90px;
  z-index: 1000;
  display:flex; flex-direction:column; align-items:center; gap:8px;
  padding:10px 8px;
  width:44px;
  background:#fff; border:1px solid #ddd; border-radius:12px;
  box-shadow:0 6px 18px rgba(0,0,0,.12);
  user-select:none;
}
.zoom-bar > div[role="button"],
.zoom-bar > div:first-child,
.zoom-bar > div:nth-child(3){
  cursor:pointer; font-size:20px; line-height:1;
}
.zoom-track{
  position:relative; width:6px; height:140px;
  background:#f3f3f3; border-radius:999px; overflow:hidden;
}
.zoom-fill{
  position:absolute; left:0; right:0; bottom:0; height:0;
  background:#2b8af7; border-radius:999px;
  transition:height .15s ease-out;
}
.zoom-label{
  font-size:12px; color:#555; margin-top:2px;
} */
/************ë°˜ì‘í˜•***************/
/* ===== ê¸°ì¡´(ë°ìŠ¤í¬íƒ‘) ìœ ì§€: ì¢Œì¸¡ ìŠ¬ë¼ì´ë“œ ===== */
/* (ë„¤ê°€ ì˜¬ë¦° RouteMap.cssì˜ .filter-flyout / .sidebar-card ê·¸ëŒ€ë¡œ ë‘¬ë„ ë¨) */

/* ================================
   ğŸ“± RouteMap â€“ ëª¨ë°”ì¼ ì •ë¦¬ë³¸ (<=640px)
   - ìœ„ì¹˜, í¬ê¸°, ì—¬ë°±, íƒ€ì´í¬ í•œ ë²ˆì— ì»¨íŠ¸ë¡¤
   - í•„ìš” ë³€ìˆ˜ë§Œ expose
   ================================ */
@media (max-width: 768px){
  :root{
    --mobile-gap: 10px;                        /* í™”ë©´ ìƒë‹¨ ì—¬ë°± */
    --dock-h: 64px;                            /* í•˜ë‹¨ íƒ­ë°” ë†’ì´ */
    --mobile-panel-w: min(86vw, 268px);        /* íŒ¨ë„ ë„ˆë¹„ */
    --trim-top: 16px;                          /* 'í•„í„°' ê¸€ì ìœ„ì¹˜ì— ë§ì¶° íŒ¨ë„ì„ ë” ë‚´ë¦¬ëŠ” ê°’ */
    --panel-top-pad: 6px;                      /* ì¹´ë“œ ë‚´ë¶€ ìƒë‹¨ íŒ¨ë”© */
    --route-filter-maxh: 70vh;                 /* ì¹´ë“œ ìµœëŒ€ ë†’ì´ */
    --route-filter-gap: 8px;                   /* ë¸”ë¡ ê°„ ê°„ê²© */
    --route-filter-ctrl-pad: 7px;              /* input/select/ë²„íŠ¼ ìƒí•˜ íŒ¨ë”© */
  }

  /* íŒ¨ë„ ì»¨í…Œì´ë„ˆ: ì¢Œì¸¡ì—ì„œ ìŠ¬ë¼ì´ë“œ, ì‹œì‘ ìœ„ì¹˜ ë§ì¶¤ */
  .filter-flyout{
    left: 6px;
    right: auto;
    top: calc(var(--mobile-gap) + env(safe-area-inset-top,0px) + var(--trim-top));
    bottom: calc(var(--dock-h) + var(--mobile-gap) + env(safe-area-inset-bottom,0px));
    height: auto;
    width: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    opacity: 0; visibility: hidden; pointer-events: none;
    transition:
      width var(--slide-dur) var(--slide-ease),
      opacity 0s linear var(--slide-dur),
      visibility 0s linear var(--slide-dur);
  }
  .filter-flyout.open{
    width: var(--mobile-panel-w);
    opacity: 1; visibility: visible; pointer-events: auto;
  }

  /* ì¹´ë“œ ë³¸ì²´: ì»´íŒ©íŠ¸ + ë‚´ë¶€ ìŠ¤í¬ë¡¤ */
  .sidebar-card{
    height: auto;
    max-height: var(--route-filter-maxh);
    margin: 0;
    border: 1px solid var(--panel-border);
    border-radius: 12px;
    box-shadow: 0 10px 24px rgba(0,0,0,.15);
    overflow-y: auto;
    overflow-x: hidden;
    padding: var(--panel-top-pad) 12px 8px;    /* ìƒë‹¨ ì•½ê°„, í•˜ë‹¨ ì‚´ì§ */
    gap: var(--route-filter-gap);
  }

  /* í—¤ë”ëŠ” ê³ ì • í•´ì œ(ì¹´ë“œ ì•ˆì—ì„œ ìì—°ìŠ¤ëŸ½ê²Œ ìŠ¤í¬ë¡¤) */
  .sidebar-header{
    position: static;
    background: transparent;
    border-bottom: 0;
    padding-bottom: 6px;
  }

  /* ë‚´ë¶€ ì—¬ë°±/ì»¨íŠ¸ë¡¤ ì‚¬ì´ì¦ˆ ì •ë¦¬ */
  .form-group{ margin: 0 0 var(--route-filter-gap); }
  .label-row{ margin: 4px 0 var(--route-filter-gap); }
  .btn-row{ margin: 4px 0 var(--route-filter-gap); }

  .input,
  .select,
  .btn{
    padding: var(--route-filter-ctrl-pad) 10px;
    font-size: 12px;
  }

  /* ëª¨ë°”ì¼ì—ì„  ë”¤ ì œê±°(ì¹´ë“œë§Œ ë„ì›€) */
  .filter-dim{ display: none !important; opacity: 0 !important; pointer-events: none !important; }

  /* ì§€ë„ ì˜¤ë²„ë ˆì´ëŠ” ê¸°ì¡´ ê°’ ìœ ì§€ â€“ í•„ìš” ì‹œë§Œ ì¡°ì ˆ */
  .map-summary{ left: 6px; right: 8px; bottom: calc(var(--dock-h) + 8px); top: auto; }
  .my-location-btn{ right: 16px; bottom: calc(var(--dock-h) + 32px); }
  .fab{ right: 12px; bottom: calc(var(--dock-h) + 16px); }
}


/* ëª¨ë°”ì¼ ìµœì í™” */
@media (max-width: 768px){
  .map-summary{
    top:10px; right:10px; left:10px;
    max-width: none;            /* ê°€ë¡œ ê½‰ ì°¨ê²Œ */
  }
  .map-summary__card{
    font-size:15px;
    padding:12px 14px;
    border-radius:12px;
    box-shadow:0 10px 28px rgba(0,0,0,.16);
  }
}

@keyframes mapSummaryIn{
  from{ opacity:0; transform:translateY(-6px); }
  to  { opacity:1; transform:none; }
}






